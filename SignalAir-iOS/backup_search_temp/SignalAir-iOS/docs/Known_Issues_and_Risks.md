# âš ï¸ å·²çŸ¥å•é¡Œèˆ‡é¢¨éšª

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•SignalAir iOSåº”ç”¨ä¸­å·²çŸ¥çš„æŠ€æœ¯å€ºåŠ¡ã€å®‰å…¨æ€§é—®é¢˜å’Œæ€§èƒ½ç“¶é¢ˆï¼Œä¸ºåç»­å¼€å‘å’Œç»´æŠ¤æä¾›å‚è€ƒã€‚

---

## ğŸ—ï¸ 1. æŠ€è¡“å‚µå‹™æ¸…å–®

### **ğŸ”´ é«˜å„ªå…ˆç´šæŠ€è¡“å‚µå‹™**

#### **1.1 ç¼ºå¤±çš„éŒ¯èª¤è™•ç†**

**å•é¡Œæè¿°ï¼š**
- NetworkServiceä¸­ç¼ºä¹å®Œæ•´çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- ç¶²è·¯é€£æ¥å¤±æ•—æ™‚æ²’æœ‰é‡è©¦é‚è¼¯
- ç”¨æˆ¶ç•Œé¢ç¼ºä¹éŒ¯èª¤ç‹€æ…‹é¡¯ç¤º

**å½±éŸ¿ç¯„åœï¼š**
- ç”¨æˆ¶é«”é©—ï¼šé€£æ¥å¤±æ•—æ™‚æ‡‰ç”¨å¯èƒ½ç„¡éŸ¿æ‡‰
- ç©©å®šæ€§ï¼šæœªè™•ç†çš„ç•°å¸¸å¯èƒ½å°è‡´å´©æ½°

**æŠ€è¡“å‚µå‹™ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âŒ å•é¡Œä»£ç¢¼ - ç¼ºä¹éŒ¯èª¤è™•ç†
func sendData(_ data: Data) {
    // ç›´æ¥ç™¼é€ï¼Œæ²’æœ‰éŒ¯èª¤è™•ç†
    session.send(data, toPeers: connectedPeers, with: .reliable)
}

// âœ… å»ºè­°æ”¹é€²
func sendData(_ data: Data) throws {
    guard !connectedPeers.isEmpty else {
        throw NetworkError.noPeersConnected
    }
    
    do {
        try session.send(data, toPeers: connectedPeers, with: .reliable)
    } catch {
        logger.error("ç™¼é€æ•¸æ“šå¤±æ•—: \(error)")
        throw NetworkError.sendFailed(error)
    }
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾çµ±ä¸€çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- æ·»åŠ ç¶²è·¯é‡è©¦é‚è¼¯
- æ”¹å–„ç”¨æˆ¶ç•Œé¢éŒ¯èª¤æç¤º

**é ä¼°å·¥ä½œé‡ï¼š** 3-5å€‹å·¥ä½œæ—¥

#### **1.2 ç¡¬ç·¨ç¢¼é…ç½®å€¼**

**å•é¡Œæè¿°ï¼š**
- ç¶²è·¯è¶…æ™‚ã€é‡è©¦æ¬¡æ•¸ç­‰é…ç½®ç¡¬ç·¨ç¢¼åœ¨ä»£ç¢¼ä¸­
- ç¼ºä¹é…ç½®æ–‡ä»¶æˆ–ç’°å¢ƒè®Šé‡ç®¡ç†
- é›£ä»¥æ ¹æ“šä¸åŒç’°å¢ƒèª¿æ•´åƒæ•¸

**å•é¡Œä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âŒ ç¡¬ç·¨ç¢¼é…ç½®
private let connectionTimeout: TimeInterval = 30.0
private let maxRetryCount = 3
private let heartbeatInterval: TimeInterval = 5.0

// âœ… å»ºè­°æ”¹é€² - é…ç½®æ–‡ä»¶ç®¡ç†
struct NetworkConfig {
    let connectionTimeout: TimeInterval
    let maxRetryCount: Int
    let heartbeatInterval: TimeInterval
    
    static func load(from environment: Environment) -> NetworkConfig {
        // å¾é…ç½®æ–‡ä»¶æˆ–ç’°å¢ƒè®Šé‡è¼‰å…¥
    }
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å‰µå»ºé…ç½®ç®¡ç†ç³»çµ±
- æ”¯æŒä¸åŒç’°å¢ƒçš„é…ç½®
- å¯¦ç¾é‹è¡Œæ™‚é…ç½®æ›´æ–°

**é ä¼°å·¥ä½œé‡ï¼š** 2-3å€‹å·¥ä½œæ—¥

#### **1.3 å…§å­˜æ´©æ¼é¢¨éšª**

**å•é¡Œæè¿°ï¼š**
- Timerå’Œè§€å¯Ÿè€…æ²’æœ‰æ­£ç¢ºé‡‹æ”¾
- å¼·å¼•ç”¨å¾ªç’°å¯èƒ½å°è‡´å…§å­˜æ´©æ¼
- ç¼ºä¹å…§å­˜ä½¿ç”¨ç›£æ§

**é¢¨éšªä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âŒ æ½›åœ¨å…§å­˜æ´©æ¼
class NetworkService {
    private var timer: Timer?
    
    func startHeartbeat() {
        timer = Timer.scheduledTimer(withTimeInterval: 5.0, repeats: true) { _ in
            self.sendHeartbeat() // å¼·å¼•ç”¨self
        }
    }
    
    // ç¼ºå°‘deinitä¸­çš„æ¸…ç†
}

// âœ… å»ºè­°æ”¹é€²
class NetworkService {
    private var timer: Timer?
    
    func startHeartbeat() {
        timer = Timer.scheduledTimer(withTimeInterval: 5.0, repeats: true) { [weak self] _ in
            self?.sendHeartbeat()
        }
    }
    
    deinit {
        timer?.invalidate()
        timer = nil
    }
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯©æŸ¥æ‰€æœ‰Timerå’Œè§€å¯Ÿè€…çš„ç”Ÿå‘½é€±æœŸ
- ä½¿ç”¨weakå¼•ç”¨é¿å…å¾ªç’°å¼•ç”¨
- æ·»åŠ å…§å­˜ä½¿ç”¨ç›£æ§

**é ä¼°å·¥ä½œé‡ï¼š** 2-4å€‹å·¥ä½œæ—¥

### **ğŸŸ¡ ä¸­å„ªå…ˆç´šæŠ€è¡“å‚µå‹™**

#### **1.4 ä»£ç¢¼é‡è¤‡**

**å•é¡Œæè¿°ï¼š**
- å¤šå€‹ViewModelä¸­æœ‰ç›¸ä¼¼çš„ç¶²è·¯ç‹€æ…‹ç®¡ç†ä»£ç¢¼
- é‡è¤‡çš„UIæ›´æ–°é‚è¼¯
- ç¼ºä¹å…±ç”¨çš„å·¥å…·é¡å’Œæ“´å±•

**é‡è¤‡ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âŒ åœ¨å¤šå€‹ViewModelä¸­é‡è¤‡
class SignalViewModel {
    func updateConnectionStatus() {
        switch networkService.connectionStatus {
        case .connected: connectionStatus = "å·²é€£ç·š"
        case .connecting: connectionStatus = "é€£ç·šä¸­"
        case .disconnected: connectionStatus = "æœªé€£ç·š"
        }
    }
}

class SettingsViewModel {
    func updateConnectionStatus() {
        // ç›¸åŒçš„é‚è¼¯é‡è¤‡å‡ºç¾
        switch networkService.connectionStatus {
        case .connected: connectionStatus = "å·²é€£ç·š"
        case .connecting: connectionStatus = "é€£ç·šä¸­"
        case .disconnected: connectionStatus = "æœªé€£ç·š"
        }
    }
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å‰µå»ºå…±ç”¨çš„åŸºé¡æˆ–å”è­°
- æå–å…¬å…±åŠŸèƒ½åˆ°å·¥å…·é¡
- ä½¿ç”¨ä»£ç¢¼ç”Ÿæˆå·¥å…·æ¸›å°‘é‡è¤‡

**é ä¼°å·¥ä½œé‡ï¼š** 2-3å€‹å·¥ä½œæ—¥

#### **1.5 æ¸¬è©¦è¦†è“‹ç‡ä¸è¶³**

**å•é¡Œæè¿°ï¼š**
- æ•´é«”æ¸¬è©¦è¦†è“‹ç‡åƒ…45%
- ç¼ºä¹UIæ¸¬è©¦å’Œæ•´åˆæ¸¬è©¦
- é—œéµæ¥­å‹™é‚è¼¯ç¼ºä¹æ¸¬è©¦

**ç¼ºå¤±æ¸¬è©¦ï¼š**
- TemporaryIDManager: 0%è¦†è“‹ç‡
- NicknameService: 0%è¦†è“‹ç‡
- PurchaseService: 0%è¦†è“‹ç‡
- UIæ•´åˆæ¸¬è©¦: 0%è¦†è“‹ç‡

**ä¿®å¾©å»ºè­°ï¼š**
- å„ªå…ˆç‚ºæ ¸å¿ƒæœå‹™æ·»åŠ æ¸¬è©¦
- å¯¦ç¾UIè‡ªå‹•åŒ–æ¸¬è©¦
- å»ºç«‹æ¸¬è©¦è¦†è“‹ç‡ç›£æ§

**é ä¼°å·¥ä½œé‡ï¼š** 5-7å€‹å·¥ä½œæ—¥

### **ğŸŸ¢ ä½å„ªå…ˆç´šæŠ€è¡“å‚µå‹™**

#### **1.6 æ–‡æª”å’Œè¨»é‡‹ä¸å®Œæ•´**

**å•é¡Œæè¿°ï¼š**
- éƒ¨åˆ†APIç¼ºä¹æ–‡æª”è¨»é‡‹
- è¤‡é›œç®—æ³•ç¼ºä¹èªªæ˜
- READMEæ–‡ä»¶éœ€è¦æ›´æ–°

**ä¿®å¾©å»ºè­°ï¼š**
- ç‚ºæ‰€æœ‰å…¬å…±APIæ·»åŠ æ–‡æª”
- æ›´æ–°é …ç›®README
- å»ºç«‹é–‹ç™¼è€…æŒ‡å—

**é ä¼°å·¥ä½œé‡ï¼š** 1-2å€‹å·¥ä½œæ—¥

---

## ğŸ”’ 2. å®‰å…¨æ€§å•é¡Œ

### **ğŸ”´ é«˜é¢¨éšªå®‰å…¨å•é¡Œ**

#### **2.1 å¯†é‘°ç®¡ç†æ¼æ´**

**å•é¡Œæè¿°ï¼š**
- è‡¨æ™‚å¯†é‘°å¯èƒ½åœ¨å…§å­˜ä¸­åœç•™éä¹…
- ç¼ºä¹å¯†é‘°è¼ªæ›çš„å¼·åˆ¶æ©Ÿåˆ¶
- å¯†é‘°ç”Ÿæˆçš„éš¨æ©Ÿæ€§å¯èƒ½ä¸è¶³

**é¢¨éšªè©•ä¼°ï¼š**
- **å½±éŸ¿ç¨‹åº¦ï¼š** é«˜ - å¯èƒ½å°è‡´é€šä¿¡è¢«ç«Šè½
- **ç™¼ç”Ÿæ¦‚ç‡ï¼š** ä¸­ - éœ€è¦ç‰¹å®šæ”»æ“Šå ´æ™¯
- **é¢¨éšªç­‰ç´šï¼š** ğŸ”´ é«˜é¢¨éšª

**å®‰å…¨æ¼æ´ä»£ç¢¼ï¼š**
```swift
// âŒ æ½›åœ¨å®‰å…¨å•é¡Œ
class SecurityService {
    private var currentKey: Data?
    
    func generateKey() -> Data {
        let key = Data((0..<32).map { _ in UInt8.random(in: 0...255) })
        currentKey = key // å¯†é‘°åœ¨å…§å­˜ä¸­æŒçºŒå­˜åœ¨
        return key
    }
    
    // ç¼ºä¹å¯†é‘°æ¸…ç†æ©Ÿåˆ¶
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾å®‰å…¨çš„å¯†é‘°æ¸…ç†æ©Ÿåˆ¶
- ä½¿ç”¨ç¡¬ä»¶å®‰å…¨æ¨¡çµ„(Secure Enclave)
- å¼·åˆ¶å¯†é‘°è¼ªæ›ç­–ç•¥
- ä½¿ç”¨æ›´å¼·çš„éš¨æ©Ÿæ•¸ç”Ÿæˆå™¨

**ä¿®å¾©ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âœ… å®‰å…¨æ”¹é€²
class SecurityService {
    private var keyData: SecureData?
    
    func generateKey() -> SecureData {
        let key = SecureData.generateSecureRandom(length: 32)
        
        // è¨­ç½®å¯†é‘°éæœŸæ™‚é–“
        DispatchQueue.main.asyncAfter(deadline: .now() + keyRotationInterval) {
            self.rotateKey()
        }
        
        return key
    }
    
    private func rotateKey() {
        keyData?.secureErase()
        keyData = generateKey()
    }
    
    deinit {
        keyData?.secureErase()
    }
}
```

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 3-5å€‹å·¥ä½œæ—¥

#### **2.2 è¼¸å…¥é©—è­‰ä¸è¶³**

**å•é¡Œæè¿°ï¼š**
- æ¥æ”¶åˆ°çš„ç¶²è·¯æ•¸æ“šç¼ºä¹å……åˆ†é©—è­‰
- å¯èƒ½å—åˆ°æƒ¡æ„æ•¸æ“šåŒ…æ”»æ“Š
- ç¼ºä¹æ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥

**é¢¨éšªè©•ä¼°ï¼š**
- **å½±éŸ¿ç¨‹åº¦ï¼š** é«˜ - å¯èƒ½å°è‡´æ‡‰ç”¨å´©æ½°æˆ–æ•¸æ“šæå£
- **ç™¼ç”Ÿæ¦‚ç‡ï¼š** ä¸­ - æƒ¡æ„ç”¨æˆ¶å¯ä»¥æ§‹é€ æ”»æ“Š
- **é¢¨éšªç­‰ç´šï¼š** ğŸ”´ é«˜é¢¨éšª

**æ¼æ´ä»£ç¢¼ï¼š**
```swift
// âŒ ç¼ºä¹è¼¸å…¥é©—è­‰
func processReceivedData(_ data: Data) {
    let message = try! JSONDecoder().decode(MeshMessage.self, from: data)
    // ç›´æ¥ä½¿ç”¨æœªé©—è­‰çš„æ•¸æ“š
    handleMessage(message)
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾åš´æ ¼çš„è¼¸å…¥é©—è­‰
- æ·»åŠ æ•¸æ“šå®Œæ•´æ€§æª¢æŸ¥
- é™åˆ¶æ•¸æ“šåŒ…å¤§å°å’Œé »ç‡
- ä½¿ç”¨å®‰å…¨çš„è§£æå™¨

**ä¿®å¾©ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âœ… å®‰å…¨æ”¹é€²
func processReceivedData(_ data: Data, from peerID: String) throws {
    // 1. å¤§å°é©—è­‰
    guard data.count <= maxMessageSize else {
        throw SecurityError.messageTooLarge
    }
    
    // 2. æ ¼å¼é©—è­‰
    guard let message = try? JSONDecoder().decode(MeshMessage.self, from: data) else {
        throw SecurityError.invalidFormat
    }
    
    // 3. å…§å®¹é©—è­‰
    guard message.isValid() else {
        throw SecurityError.invalidContent
    }
    
    // 4. ä¾†æºé©—è­‰
    guard message.verifySignature(from: peerID) else {
        throw SecurityError.invalidSignature
    }
    
    handleMessage(message)
}
```

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 2-4å€‹å·¥ä½œæ—¥

### **ğŸŸ¡ ä¸­é¢¨éšªå®‰å…¨å•é¡Œ**

#### **2.3 æ—¥èªŒæ•æ„Ÿä¿¡æ¯æ´©éœ²**

**å•é¡Œæè¿°ï¼š**
- æ—¥èªŒä¸­å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯
- ç¼ºä¹æ—¥èªŒè„«æ•æ©Ÿåˆ¶
- èª¿è©¦ä¿¡æ¯åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­å¯è¦‹

**é¢¨éšªè©•ä¼°ï¼š**
- **å½±éŸ¿ç¨‹åº¦ï¼š** ä¸­ - å¯èƒ½æ´©éœ²ç”¨æˆ¶éš±ç§
- **ç™¼ç”Ÿæ¦‚ç‡ï¼š** ä½ - éœ€è¦è¨ªå•è¨­å‚™æ—¥èªŒ
- **é¢¨éšªç­‰ç´šï¼š** ğŸŸ¡ ä¸­é¢¨éšª

**å•é¡Œä»£ç¢¼ï¼š**
```swift
// âŒ å¯èƒ½æ´©éœ²æ•æ„Ÿä¿¡æ¯
func sendMessage(_ message: String, to peerID: String) {
    print("ç™¼é€æ¶ˆæ¯: \(message) åˆ° \(peerID)") // æ•æ„Ÿä¿¡æ¯
    // ...
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾æ—¥èªŒè„«æ•æ©Ÿåˆ¶
- å€åˆ†èª¿è©¦å’Œç”Ÿç”¢ç’°å¢ƒæ—¥èªŒ
- å®šæœŸæ¸…ç†æ•æ„Ÿæ—¥èªŒ

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 1-2å€‹å·¥ä½œæ—¥

#### **2.4 ç¼ºä¹é€Ÿç‡é™åˆ¶**

**å•é¡Œæè¿°ï¼š**
- é›–ç„¶æœ‰FloodProtectionï¼Œä½†æŸäº›APIç¼ºä¹é€Ÿç‡é™åˆ¶
- å¯èƒ½å—åˆ°DoSæ”»æ“Š
- ç¼ºä¹ç•°å¸¸æµé‡æª¢æ¸¬

**ä¿®å¾©å»ºè­°ï¼š**
- ç‚ºæ‰€æœ‰å°å¤–APIæ·»åŠ é€Ÿç‡é™åˆ¶
- å¯¦ç¾å‹•æ…‹èª¿æ•´æ©Ÿåˆ¶
- æ·»åŠ ç•°å¸¸æª¢æ¸¬å’Œå ±è­¦

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 2-3å€‹å·¥ä½œæ—¥

---

## âš¡ 3. æ€§èƒ½ç“¶é ¸

### **ğŸ”´ åš´é‡æ€§èƒ½å•é¡Œ**

#### **3.1 ä¸»ç·šç¨‹é˜»å¡**

**å•é¡Œæè¿°ï¼š**
- åŠ å¯†/è§£å¯†æ“ä½œåœ¨ä¸»ç·šç¨‹åŸ·è¡Œ
- å¤§é‡æ•¸æ“šè™•ç†å¯èƒ½å°è‡´UIå¡é “
- ç¶²è·¯æ“ä½œç¼ºä¹ç•°æ­¥è™•ç†

**æ€§èƒ½å½±éŸ¿ï¼š**
- **ç”¨æˆ¶é«”é©—ï¼š** UIéŸ¿æ‡‰å»¶é² >100ms
- **é›»æ± æ¶ˆè€—ï¼š** CPUä½¿ç”¨ç‡éé«˜
- **ç©©å®šæ€§ï¼š** å¯èƒ½è§¸ç™¼ç³»çµ±watchdog

**å•é¡Œä»£ç¢¼ï¼š**
```swift
// âŒ ä¸»ç·šç¨‹é˜»å¡
func encryptMessage(_ message: String) -> Data {
    // åœ¨ä¸»ç·šç¨‹åŸ·è¡Œè€—æ™‚çš„åŠ å¯†æ“ä½œ
    return SecurityService.encrypt(message.data(using: .utf8)!)
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å°‡è€—æ™‚æ“ä½œç§»åˆ°å¾Œå°éšŠåˆ—
- ä½¿ç”¨async/awaitå„ªåŒ–ç•°æ­¥è™•ç†
- å¯¦ç¾é€²åº¦æŒ‡ç¤ºå™¨

**ä¿®å¾©ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âœ… æ€§èƒ½å„ªåŒ–
func encryptMessage(_ message: String) async throws -> Data {
    return try await withCheckedThrowingContinuation { continuation in
        DispatchQueue.global(qos: .userInitiated).async {
            do {
                let encrypted = SecurityService.encrypt(message.data(using: .utf8)!)
                continuation.resume(returning: encrypted)
            } catch {
                continuation.resume(throwing: error)
            }
        }
    }
}
```

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 3-4å€‹å·¥ä½œæ—¥

#### **3.2 å…§å­˜ä½¿ç”¨éé«˜**

**å•é¡Œæè¿°ï¼š**
- æ¶ˆæ¯æ­·å²ç„¡é™åˆ¶ç´¯ç©
- åœ–ç‰‡å’Œåª’é«”æ–‡ä»¶ç¼ºä¹ç·©å­˜ç®¡ç†
- å…§å­˜å³°å€¼å¯èƒ½è¶…éè¨­å‚™é™åˆ¶

**æ€§èƒ½æ•¸æ“šï¼š**
- **æ­£å¸¸ä½¿ç”¨ï¼š** ~50MB
- **é«˜è² è¼‰ï¼š** >200MB
- **å³°å€¼ï¼š** >500MB (å¯èƒ½è§¸ç™¼ç³»çµ±çµ‚æ­¢)

**å•é¡Œä»£ç¢¼ï¼š**
```swift
// âŒ å…§å­˜ç„¡é™å¢é•·
class MessageStore {
    private var messages: [Message] = []
    
    func addMessage(_ message: Message) {
        messages.append(message) // ç„¡é™åˆ¶å¢é•·
    }
}
```

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾æ¶ˆæ¯è‡ªå‹•æ¸…ç†æ©Ÿåˆ¶
- æ·»åŠ å…§å­˜ä½¿ç”¨ç›£æ§
- å„ªåŒ–æ•¸æ“šçµæ§‹å’Œç·©å­˜ç­–ç•¥

**ä¿®å¾©ä»£ç¢¼ç¤ºä¾‹ï¼š**
```swift
// âœ… å…§å­˜å„ªåŒ–
class MessageStore {
    private var messages: [Message] = []
    private let maxMessages = 1000
    
    func addMessage(_ message: Message) {
        messages.append(message)
        
        // è‡ªå‹•æ¸…ç†èˆŠæ¶ˆæ¯
        if messages.count > maxMessages {
            messages.removeFirst(messages.count - maxMessages)
        }
    }
    
    func performMemoryCleanup() {
        // æ¸…ç†24å°æ™‚å‰çš„æ¶ˆæ¯
        let cutoff = Date().addingTimeInterval(-86400)
        messages.removeAll { $0.timestamp < cutoff }
    }
}
```

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 2-3å€‹å·¥ä½œæ—¥

### **ğŸŸ¡ ä¸­ç­‰æ€§èƒ½å•é¡Œ**

#### **3.3 ç¶²è·¯æ•ˆç‡ä½ä¸‹**

**å•é¡Œæè¿°ï¼š**
- ç¼ºä¹æ•¸æ“šå£“ç¸®
- é »ç¹çš„å°æ•¸æ“šåŒ…å‚³è¼¸
- æ²’æœ‰æ‰¹é‡è™•ç†æ©Ÿåˆ¶

**æ€§èƒ½å½±éŸ¿ï¼š**
- **ç¶²è·¯ä½¿ç”¨ï¼š** æ•¸æ“šä½¿ç”¨é‡å¢åŠ 30-50%
- **é›»æ± æ¶ˆè€—ï¼š** ç„¡ç·šæ¨¡çµ„é »ç¹æ¿€æ´»
- **å»¶é²ï¼š** å¤šæ¬¡å°å‚³è¼¸å¢åŠ ç¸½å»¶é²

**ä¿®å¾©å»ºè­°ï¼š**
- å¯¦ç¾æ•¸æ“šå£“ç¸®
- æ‰¹é‡è™•ç†å°æ¶ˆæ¯
- å„ªåŒ–å‚³è¼¸å”è­°

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 3-5å€‹å·¥ä½œæ—¥

#### **3.4 UIæ¸²æŸ“æ€§èƒ½**

**å•é¡Œæè¿°ï¼š**
- æ¶ˆæ¯åˆ—è¡¨æ»¾å‹•ä¸æµæš¢
- è¤‡é›œè¦–åœ–å±¤æ¬¡å°è‡´æ¸²æŸ“ç·©æ…¢
- ç¼ºä¹è¦–åœ–å¾©ç”¨æ©Ÿåˆ¶

**æ€§èƒ½æŒ‡æ¨™ï¼š**
- **ç›®æ¨™FPSï¼š** 60fps
- **ç•¶å‰FPSï¼š** 40-50fps (é«˜è² è¼‰æ™‚)
- **æ¸²æŸ“æ™‚é–“ï¼š** >16ms (ç›®æ¨™<16ms)

**ä¿®å¾©å»ºè­°ï¼š**
- å„ªåŒ–è¦–åœ–å±¤æ¬¡çµæ§‹
- å¯¦ç¾è™›æ“¬åŒ–åˆ—è¡¨
- ä½¿ç”¨ç•°æ­¥åœ–åƒåŠ è¼‰

**é ä¼°ä¿®å¾©æ™‚é–“ï¼š** 2-4å€‹å·¥ä½œæ—¥

---

## ğŸ“Š 4. é¢¨éšªè©•ä¼°çŸ©é™£

| å•é¡Œé¡å‹ | å½±éŸ¿ç¨‹åº¦ | ç™¼ç”Ÿæ¦‚ç‡ | é¢¨éšªç­‰ç´š | ä¿®å¾©å„ªå…ˆç´š | é ä¼°å·¥ä½œé‡ |
|---------|---------|---------|---------|-----------|-----------|
| å¯†é‘°ç®¡ç†æ¼æ´ | é«˜ | ä¸­ | ğŸ”´ é«˜ | P0 | 3-5å¤© |
| è¼¸å…¥é©—è­‰ä¸è¶³ | é«˜ | ä¸­ | ğŸ”´ é«˜ | P0 | 2-4å¤© |
| ä¸»ç·šç¨‹é˜»å¡ | é«˜ | é«˜ | ğŸ”´ é«˜ | P0 | 3-4å¤© |
| å…§å­˜ä½¿ç”¨éé«˜ | ä¸­ | é«˜ | ğŸŸ¡ ä¸­ | P1 | 2-3å¤© |
| éŒ¯èª¤è™•ç†ç¼ºå¤± | ä¸­ | é«˜ | ğŸŸ¡ ä¸­ | P1 | 3-5å¤© |
| ç¶²è·¯æ•ˆç‡ä½ä¸‹ | ä¸­ | ä¸­ | ğŸŸ¡ ä¸­ | P2 | 3-5å¤© |
| ä»£ç¢¼é‡è¤‡ | ä½ | é«˜ | ğŸŸ¢ ä½ | P3 | 2-3å¤© |
| æ–‡æª”ä¸å®Œæ•´ | ä½ | ä½ | ğŸŸ¢ ä½ | P3 | 1-2å¤© |

---

## ğŸ¯ 5. ä¿®å¾©å»ºè­°å’Œæ™‚é–“ç·š

### **Phase 1: ç·Šæ€¥ä¿®å¾© (1-2é€±)**
- ğŸ”´ ä¿®å¾©å¯†é‘°ç®¡ç†æ¼æ´
- ğŸ”´ è§£æ±ºä¸»ç·šç¨‹é˜»å¡å•é¡Œ
- ğŸ”´ åŠ å¼·è¼¸å…¥é©—è­‰

### **Phase 2: é‡è¦æ”¹é€² (2-4é€±)**
- ğŸŸ¡ å„ªåŒ–å…§å­˜ä½¿ç”¨
- ğŸŸ¡ å®Œå–„éŒ¯èª¤è™•ç†
- ğŸŸ¡ æå‡ç¶²è·¯æ•ˆç‡

### **Phase 3: å“è³ªæå‡ (4-6é€±)**
- ğŸŸ¢ æ¶ˆé™¤ä»£ç¢¼é‡è¤‡
- ğŸŸ¢ æå‡æ¸¬è©¦è¦†è“‹ç‡
- ğŸŸ¢ å®Œå–„æ–‡æª”

### **æŒçºŒç›£æ§**
- å»ºç«‹æ€§èƒ½ç›£æ§ç³»çµ±
- å®šæœŸå®‰å…¨å¯©è¨ˆ
- æŠ€è¡“å‚µå‹™è·Ÿè¸ª

---

## ğŸ“ 6. ç›£æ§å’Œé è­¦

### **é—œéµæŒ‡æ¨™ç›£æ§**
- **æ€§èƒ½æŒ‡æ¨™ï¼š** CPUä½¿ç”¨ç‡ã€å…§å­˜ä½¿ç”¨ã€ç¶²è·¯å»¶é²
- **å®‰å…¨æŒ‡æ¨™ï¼š** ç•°å¸¸ç™»å…¥ã€æƒ¡æ„æµé‡ã€å¯†é‘°è¼ªæ›
- **ç©©å®šæ€§æŒ‡æ¨™ï¼š** å´©æ½°ç‡ã€éŒ¯èª¤ç‡ã€é€£æ¥æˆåŠŸç‡

### **é è­¦é–¾å€¼**
```swift
struct MonitoringThresholds {
    static let maxMemoryUsage: Double = 150.0 // MB
    static let maxCPUUsage: Double = 80.0 // %
    static let maxNetworkLatency: TimeInterval = 1.0 // seconds
    static let maxErrorRate: Double = 0.05 // 5%
}
```

### **è‡ªå‹•åŒ–éŸ¿æ‡‰**
- å…§å­˜ä½¿ç”¨éé«˜æ™‚è‡ªå‹•æ¸…ç†
- ç•°å¸¸æµé‡æ™‚å•Ÿå‹•ä¿è­·æ¨¡å¼
- éŒ¯èª¤ç‡éé«˜æ™‚é™ç´šæœå‹™

---

**æ›´æ–°æ™‚é–“**: 2025-06-18  
**ç‰ˆæœ¬**: v1.0  
**ç‹€æ…‹**: ğŸš¨ éœ€è¦ç«‹å³é—œæ³¨ 