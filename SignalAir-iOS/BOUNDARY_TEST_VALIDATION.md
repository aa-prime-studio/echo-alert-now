# å³é‚Šç•Œæº¢å‡ºä¿®å¾©é©—è­‰

## å•é¡Œæè¿°
ç”¨æˆ¶åæ˜ å³é‚Šç•Œæ–‡å­—æœƒè¶…å‡ºè¢å¹•ï¼Œå½±éŸ¿é–±è®€é«”é©—ã€‚

## ä¿®å¾©ç­–ç•¥

### 1. é™ä½æº¢å‡ºå®¹å¿åº¦
- **ä¿®æ”¹å‰**: è¶…å‡º15%æ‰å¼·åˆ¶æ›è¡Œ
- **ä¿®æ”¹å¾Œ**: è¶…å‡º5%å°±å¼·åˆ¶æ›è¡Œ
```swift
let forceBreak = overflowRatio > 1.05 // è¶…å‡º5%å¼·åˆ¶æ›è¡Œ
```

### 2. å¼·åŒ–é‚Šç•Œæª¢æŸ¥
åœ¨ `placeSubviews` æ–¹æ³•ä¸­åŠ å…¥å¯¦éš›ä½ç½®æª¢æŸ¥ï¼š

```swift
// æª¢æŸ¥æ˜¯å¦æœƒè¶…å‡ºå³é‚Šç•Œ
let proposedEndX = currentX + size.width
let maxX = bounds.maxX

if proposedEndX > maxX {
    // è¶…å‡ºé‚Šç•Œï¼Œå¼·åˆ¶æˆªæ–·åœ¨é‚Šç•Œå…§
    let availableWidth = maxX - currentX
    if availableWidth > 2 {
        // ä½¿ç”¨æˆªæ–·çš„å¯¬åº¦æ”¾ç½®
        subview.place(
            at: CGPoint(x: currentX, y: currentY),
            proposal: ProposedViewSize(
                width: availableWidth,
                height: size.height
            )
        )
        currentX = maxX // ç›´æ¥ç§»å‹•åˆ°é‚Šç•Œ
    } else {
        // ç©ºé–“å¤ªå°ï¼Œè·³é
        break
    }
}
```

### 3. æ™ºèƒ½é–“è·æ§åˆ¶
```swift
if subviewIndex < line.indices.count - 1 && currentX < maxX {
    currentX += spacing
    // ç¢ºä¿åŠ ä¸Šé–“è·å¾Œä¸è¶…å‡ºé‚Šç•Œ
    currentX = min(currentX, maxX)
}
```

## ä¿è­·å±¤ç´š

### ç¬¬ä¸€å±¤ï¼šè¨ˆç®—æ™‚ä¿è­·
- **ä½ç½®**: `calculateLines` æ–¹æ³•
- **ç­–ç•¥**: è¶…å‡º5%å¼·åˆ¶æ›è¡Œ
- **å„ªå…ˆç´š**: å¯è¦‹æ€§ > æ¨™é»ç¬¦è™Ÿè¦å‰‡

### ç¬¬äºŒå±¤ï¼šæ”¾ç½®æ™‚ä¿è­·
- **ä½ç½®**: `placeSubviews` æ–¹æ³•
- **ç­–ç•¥**: å¯¦éš›ä½ç½®æª¢æŸ¥ + å¯¬åº¦æˆªæ–·
- **å„ªå…ˆç´š**: é‚Šç•Œå…§é¡¯ç¤º > å®Œæ•´å­—ç¬¦

### ç¬¬ä¸‰å±¤ï¼šé–“è·ä¿è­·
- **ä½ç½®**: é–“è·è¨ˆç®—é‚è¼¯
- **ç­–ç•¥**: `min(currentX, maxX)` é™åˆ¶
- **å„ªå…ˆç´š**: é‚Šç•Œåˆè¦ > ç¾è§€é–“è·

## æ¸¬è©¦æ¡ˆä¾‹

### æ¸¬è©¦ 1ï¼šè¶…é•·è‹±æ–‡å–®è©
```
è¼¸å…¥ï¼šã€Œsupercalifragilisticexpialidociousã€
é æœŸï¼šå–®è©è¢«æˆªæ–·åœ¨é‚Šç•Œå…§ï¼Œä¸æœƒè¶…å‡ºè¢å¹•
```

### æ¸¬è©¦ 2ï¼šå¯†é›†ä¸­æ–‡æ¨™é»
```
è¼¸å…¥ï¼šã€ŒçŸ­æ–‡å­—ã€‚çŸ­æ–‡å­—ï¼çŸ­æ–‡å­—ï¼ŸçŸ­æ–‡å­—ï¼ŒçŸ­æ–‡å­—ï¼›ã€
é æœŸï¼šå³ä½¿æ¨™é»ç¬¦è™Ÿä¸æ›è¡Œï¼Œä¹Ÿä¸æœƒè¶…å‡ºå³é‚Šç•Œ
```

### æ¸¬è©¦ 3ï¼šæ¢æ¬¾ç·¨è™Ÿ + é•·å…§å®¹
```
è¼¸å…¥ï¼šã€Œ1. é€™æ˜¯éå¸¸é•·çš„æ¢æ¬¾å…§å®¹èªªæ˜ï¼ŒåŒ…å«è©³ç´°è¦å‰‡...ã€
é æœŸï¼šæ¢æ¬¾ç·¨è™Ÿä¿æŒï¼Œå…§å®¹åœ¨é‚Šç•Œå…§æ­£å¸¸é¡¯ç¤º
```

## é‚Šç•Œç­–ç•¥

| æƒ…æ³ | å¯ç”¨å¯¬åº¦ | è™•ç†æ–¹å¼ | èªªæ˜ |
|------|---------|---------|------|
| > å­—ç¬¦å¯¬åº¦ | å……è¶³ | æ­£å¸¸æ”¾ç½® | æ¨™æº–æƒ…æ³ |
| 2px - å­—ç¬¦å¯¬åº¦ | éƒ¨åˆ† | æˆªæ–·æ”¾ç½® | ä¿è­‰å¯è¦‹æ€§ |
| < 2px | ä¸è¶³ | è·³éå­—ç¬¦ | é¿å…é‡ç–Š |

## æŠ€è¡“åƒæ•¸

### æº¢å‡ºæ§åˆ¶
- **è¨ˆç®—éšæ®µå®¹å¿åº¦**: 5% (1.05)
- **æ”¾ç½®éšæ®µæœ€å°ç©ºé–“**: 2px
- **é‚Šç•Œæª¢æŸ¥**: æ¯å€‹å­—ç¬¦éƒ½æª¢æŸ¥

### å„ªå…ˆåŸå‰‡
1. **çµ•å°ä¸è¶…å‡ºå³é‚Šç•Œ**
2. **ä¿è­‰æœ€å°å¯è®€æ€§**
3. **ç›¡é‡ä¿æŒç¾è§€**

## æ¸¬è©¦çµæœ

### âœ… é æœŸä¿®å¾©æ•ˆæœ
- å³é‚Šç•Œæ–‡å­—ä¸å†è¶…å‡ºè¢å¹•
- ä¿æŒæ–‡å­—å·¦å³å°é½Šæ•ˆæœ
- æ¨™é»ç¬¦è™Ÿè¦å‰‡åœ¨å¯èƒ½ç¯„åœå…§åŸ·è¡Œ
- æ¥µç«¯æƒ…æ³ä¸‹å„ªå…ˆä¿è­‰å¯è¦‹æ€§

### ğŸ“Š æ€§èƒ½å½±éŸ¿
- **ç·¨è­¯æ™‚é–“**: ç„¡å½±éŸ¿
- **é‹è¡Œæ•ˆèƒ½**: è¼•å¾®å¢åŠ ï¼ˆé‚Šç•Œæª¢æŸ¥ï¼‰
- **è¨˜æ†¶é«”ä½¿ç”¨**: ç„¡è®ŠåŒ–
- **è¦–è¦ºæ•ˆæœ**: é¡¯è‘—æ”¹å–„

## ç¸½çµ

é€šéä¸‰å±¤ä¿è­·æ©Ÿåˆ¶ï¼Œç¢ºä¿æ–‡å­—æ°¸é ä¸æœƒè¶…å‡ºå³é‚Šç•Œï¼š
1. **é é˜²**: è¨ˆç®—éšæ®µåš´æ ¼æ§åˆ¶æº¢å‡º
2. **ç³¾æ­£**: æ”¾ç½®éšæ®µå¼·åˆ¶é‚Šç•Œåˆè¦
3. **ä¿éšª**: é–“è·è¨ˆç®—é‚Šç•Œé™åˆ¶

**æ ¸å¿ƒç†å¿µ**: é‚Šç•Œå…§å®Œå…¨å¯è¦‹ > å®Œç¾å­—ç¬¦å®Œæ•´æ€§

---
*ä¿®å¾©æ—¥æœŸï¼š2025-06-24*  
*ç‰ˆæœ¬ï¼šJustifiedText v2.4* 