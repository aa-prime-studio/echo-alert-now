# SignalAir 解鎖機制手動測試檢查清單

## 測試前準備

### 環境設定
- [ ] 確認使用測試設備 (非生產環境)
- [ ] 登錄測試用 Apple ID (使用沙盒環境)
- [ ] 確認網路連線正常
- [ ] 確認應用程式為最新測試版本
- [ ] 清除之前的測試資料

### 測試設備確認
| 設備型號 | iOS版本 | 測試狀態 | 備註 |
|---------|---------|---------|------|
| iPhone 15 Pro | iOS 17.x | [ ] | 主要測試設備 |
| iPhone 14 | iOS 16.x | [ ] | 兼容性測試 |
| iPad Pro | iOS 17.x | [ ] | 平板介面測試 |

---

## 1. 購買流程測試

### 1.1 基本購買流程

#### 測試步驟 - 購買賓果版本
1. **進入購買頁面**
   - [ ] 開啟 SignalAir 應用程式
   - [ ] 點擊底部 "設定" 標籤
   - [ ] 點擊 "升級到高級版" 按鈕
   - [ ] 確認進入購買選項頁面

2. **檢查購買選項顯示**
   - [ ] 確認顯示三個版本選項
   - [ ] 檢查 "喝杯楊枝甘露" (NT$90) 顯示正確
   - [ ] 檢查 "成為play的一環版" (NT$330) 顯示正確，有推薦標籤
   - [ ] 檢查 "好想吃丹丹漢堡版" (NT$1,680) 顯示正確
   - [ ] 確認價格和描述文字清晰可讀

3. **選擇產品**
   - [ ] 點擊 "成為play的一環版" 卡片
   - [ ] 確認選中狀態 (顯示綠色勾選圖標)
   - [ ] 確認購買按鈕文字更新為 "購買 成為play的一環版"
   - [ ] 確認購買按鈕已啟用

4. **執行購買**
   - [ ] 點擊購買按鈕
   - [ ] 確認顯示載入狀態
   - [ ] 在測試模式下，確認自動解鎖功能
   - [ ] 確認沒有錯誤訊息顯示

5. **驗證解鎖狀態**
   - [ ] 點擊 "取消" 返回設定頁面
   - [ ] 點擊 "遊戲" 標籤
   - [ ] 確認賓果遊戲功能已解鎖
   - [ ] 確認可以正常進入賓果遊戲

**預期結果**: ✅ 購買成功，賓果遊戲功能解鎖

#### 測試步驟 - 購買完整版本
1. **選擇完整版本**
   - [ ] 重複上述步驟 1-2
   - [ ] 點擊 "好想吃丹丹漢堡版" 卡片
   - [ ] 確認選中狀態
   - [ ] 點擊購買按鈕

2. **驗證解鎖狀態**
   - [ ] 確認所有功能已解鎖
   - [ ] 檢查賓果遊戲可用
   - [ ] 檢查其他高級功能可用

**預期結果**: ✅ 購買成功，所有功能解鎖

#### 測試步驟 - 購買咖啡版本
1. **選擇咖啡版本**
   - [ ] 重新進入購買頁面
   - [ ] 點擊 "喝杯楊枝甘露" 卡片
   - [ ] 點擊購買按鈕

2. **驗證結果**
   - [ ] 確認購買成功
   - [ ] 確認沒有功能解鎖 (應該維持原狀態)

**預期結果**: ✅ 購買成功，無功能解鎖

### 1.2 異常流程測試

#### 測試步驟 - 網路錯誤處理
1. **模擬網路問題**
   - [ ] 關閉設備 Wi-Fi 和行動數據
   - [ ] 進入購買頁面
   - [ ] 嘗試購買任一版本

2. **檢查錯誤處理**
   - [ ] 確認顯示網路錯誤訊息
   - [ ] 確認有 "重試載入" 按鈕
   - [ ] 開啟網路連線
   - [ ] 點擊重試按鈕
   - [ ] 確認恢復正常

**預期結果**: ✅ 正確顯示錯誤訊息並提供重試選項

#### 測試步驟 - 重複購買檢測
1. **完成首次購買**
   - [ ] 成功購買賓果版本

2. **嘗試重複購買**
   - [ ] 重新進入購買頁面
   - [ ] 選擇已購買的賓果版本
   - [ ] 確認購買按鈕為禁用狀態

**預期結果**: ✅ 防止重複購買

#### 測試步驟 - 購買取消
1. **啟動購買流程**
   - [ ] 選擇產品並點擊購買
   - [ ] 在 Apple ID 驗證步驟點擊取消

2. **檢查取消處理**
   - [ ] 確認購買被取消
   - [ ] 確認沒有功能解鎖
   - [ ] 確認沒有扣費

**預期結果**: ✅ 正確處理購買取消

---

## 2. 恢復購買測試

### 測試步驟 - 恢復購買功能
1. **準備測試環境**
   - [ ] 確保之前已有成功購買記錄
   - [ ] 重新安裝應用程式 (或清除應用資料)

2. **執行恢復購買**
   - [ ] 進入購買頁面
   - [ ] 點擊 "恢復購買" 按鈕
   - [ ] 等待恢復過程完成

3. **驗證恢復結果**
   - [ ] 確認之前購買的功能重新解鎖
   - [ ] 確認購買狀態正確顯示

**預期結果**: ✅ 成功恢復之前的購買

---

## 3. 使用者介面測試

### 3.1 介面顯示測試

#### 測試步驟 - 購買選項介面
1. **檢查佈局**
   - [ ] 確認三個產品卡片正確排列
   - [ ] 確認卡片間距適當
   - [ ] 確認文字大小適中且清晰
   - [ ] 確認價格顯示突出

2. **檢查互動效果**
   - [ ] 點擊不同卡片，確認選中狀態正確切換
   - [ ] 確認選中卡片有視覺回饋
   - [ ] 確認購買按鈕狀態正確更新

3. **檢查推薦標籤**
   - [ ] 確認賓果版本顯示推薦星號
   - [ ] 確認推薦文字顏色正確

**預期結果**: ✅ 介面美觀，互動流暢

#### 測試步驟 - 載入狀態顯示
1. **檢查載入指示器**
   - [ ] 購買過程中確認顯示載入動畫
   - [ ] 確認購買按鈕在載入時禁用
   - [ ] 確認載入完成後恢復正常狀態

**預期結果**: ✅ 載入狀態清晰顯示

#### 測試步驟 - 錯誤訊息顯示
1. **檢查錯誤訊息**
   - [ ] 模擬各種錯誤情況
   - [ ] 確認錯誤訊息文字清晰易懂
   - [ ] 確認錯誤訊息顏色為紅色
   - [ ] 確認有重試選項

**預期結果**: ✅ 錯誤訊息明確且有用

### 3.2 多語言測試

#### 測試步驟 - 中文介面
1. **設定中文環境**
   - [ ] 確認系統語言為中文
   - [ ] 進入購買頁面

2. **檢查中文顯示**
   - [ ] 確認產品名稱顯示中文
   - [ ] 確認按鈕文字為中文
   - [ ] 確認錯誤訊息為中文

**預期結果**: ✅ 中文介面完整正確

#### 測試步驟 - 英文介面
1. **切換到英文**
   - [ ] 在應用設定中切換到英文
   - [ ] 進入購買頁面

2. **檢查英文顯示**
   - [ ] 確認產品名稱顯示英文
   - [ ] 確認按鈕文字為英文
   - [ ] 確認描述文字為英文

**預期結果**: ✅ 英文介面完整正確

---

## 4. 兼容性測試

### 4.1 設備兼容性

#### iPhone 測試
- [ ] **iPhone 15 Pro (iOS 17.x)**
  - [ ] 購買流程正常
  - [ ] 介面顯示正確
  - [ ] 觸控回應良好
  
- [ ] **iPhone 14 (iOS 16.x)**
  - [ ] 功能完全兼容
  - [ ] 性能表現良好
  
- [ ] **iPhone SE 3rd (iOS 15.x)**
  - [ ] 小屏幕適配良好
  - [ ] 所有功能可用

#### iPad 測試
- [ ] **iPad Pro 12.9" (iOS 17.x)**
  - [ ] 平板介面適配正確
  - [ ] 購買流程完整
  - [ ] 大屏幕佈局美觀

### 4.2 iOS 版本兼容性

#### iOS 17.x 測試
- [ ] 所有功能正常運作
- [ ] 新系統特性兼容
- [ ] 性能表現優秀

#### iOS 16.x 測試  
- [ ] 向下兼容良好
- [ ] 功能無缺失
- [ ] 穩定性良好

#### iOS 15.x 測試
- [ ] 最低版本支援確認
- [ ] 核心功能完整
- [ ] 無崩潰問題

---

## 5. 性能測試

### 5.1 響應時間測試

#### 測試步驟 - 購買流程性能
1. **計時測試**
   - [ ] 記錄從點擊購買到完成的時間
   - [ ] 確認整個流程在 30 秒內完成
   - [ ] 記錄介面切換時間

2. **重複測試**
   - [ ] 執行 10 次購買流程
   - [ ] 計算平均時間
   - [ ] 確認一致性

**性能標準**: 
- 購買流程: < 30 秒
- 介面切換: < 3 秒
- 載入時間: < 2 秒

#### 測試步驟 - 記憶體使用
1. **監控記憶體**
   - [ ] 記錄應用啟動時記憶體使用
   - [ ] 執行購買流程後記錄記憶體
   - [ ] 確認記憶體增長合理

**記憶體標準**: 增長 < 50MB

---

## 6. 安全性測試

### 6.1 資料安全測試

#### 測試步驟 - 本地資料檢查
1. **檢查儲存的資料**
   - [ ] 確認只儲存產品 ID
   - [ ] 確認不儲存敏感的支付資訊
   - [ ] 確認不儲存 Apple ID 資訊

2. **檢查日誌輸出**
   - [ ] 確認日誌不包含敏感資料
   - [ ] 確認交易詳情不被記錄

**安全標準**: 無敏感資料洩露

### 6.2 購買驗證測試

#### 測試步驟 - 交易驗證
1. **驗證機制檢查**
   - [ ] 確認使用 StoreKit 2 驗證
   - [ ] 確認交易簽名驗證
   - [ ] 確認偽造交易被拒絕

**安全標準**: 所有交易都通過 Apple 驗證

---

## 7. 回歸測試

### 7.1 核心功能檢查

#### 相關功能測試
1. **聊天功能**
   - [ ] 購買後聊天功能正常
   - [ ] 訊息發送接收正常
   - [ ] 網路連線穩定

2. **賓果遊戲**
   - [ ] 解鎖後遊戲正常啟動
   - [ ] 遊戲玩法正確
   - [ ] 計分功能正常

3. **設定功能**
   - [ ] 設定頁面正常顯示
   - [ ] 購買狀態正確顯示
   - [ ] 其他設定項目不受影響

**回歸標準**: 所有既有功能保持正常

---

## 測試完成檢查清單

### 測試執行總結
- [ ] 所有必要測試用例已執行
- [ ] 發現的問題已記錄
- [ ] 嚴重問題已立即回報
- [ ] 測試結果已整理成報告

### 問題追蹤
| 問題編號 | 問題描述 | 嚴重程度 | 狀態 | 備註 |
|---------|---------|---------|------|------|
| P001 | | | | |
| P002 | | | | |
| P003 | | | | |

### 測試結論
- [ ] **通過**: 所有測試用例通過，建議發布
- [ ] **條件通過**: 部分非關鍵問題，可發布但需後續修復
- [ ] **不通過**: 存在嚴重問題，不建議發布

### 測試人員簽名
- 測試工程師: _________________ 日期: _________
- 審核人員: _________________ 日期: _________

---

**備註**: 
1. 每個測試項目完成後請勾選 ✓
2. 發現問題請詳細記錄在問題追蹤表中
3. 測試過程中如遇到無法解決的問題，請立即聯繫開發團隊
4. 所有測試都應在沙盒環境中進行，避免產生實際費用