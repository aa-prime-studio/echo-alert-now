# æ–‡å­—æº¢å‡ºä¿è­·åŠŸèƒ½ç¸½çµ

## å•é¡ŒèƒŒæ™¯
ç”¨æˆ¶åæ˜ åœ¨ä¸­æ–‡ç‰ˆæœ¬ä¸­ï¼Œç•¶é˜²æ­¢æ¨™é»ç¬¦è™Ÿåœ¨è¡Œé¦–æ™‚ï¼Œæ–‡å­—æœƒè¶…å‡ºè¢å¹•è¢«åˆ‡æ‰ï¼Œå½±éŸ¿é–±è®€é«”é©—ã€‚

## è§£æ±ºæ–¹æ¡ˆç¸½è¦½

### ä¸‰å±¤ä¿è­·æ©Ÿåˆ¶

#### 1ï¸âƒ£ ç¬¬ä¸€å±¤ï¼šæ¨™é»ç¬¦è™Ÿæª¢æŸ¥
```swift
private func canCharacterStartLine(atIndex index: Int, in subviews: Subviews) -> Bool {
    let size = subview.sizeThatFits(.unspecified)
    
    // è‹±æ–‡æ¨™é»ç¬¦è™Ÿæª¢æ¸¬
    if size.width <= 8 && size.height > 0 {
        return false
    }
    
    // ä¸­æ–‡æ¨™é»ç¬¦è™Ÿæª¢æ¸¬
    if size.width <= 20 && size.width > 8 && size.height > 0 {
        if size.width <= 16 {
            return false
        }
    }
    
    return true
}
```

#### 2ï¸âƒ£ ç¬¬äºŒå±¤ï¼šæº¢å‡ºæª¢æŸ¥
```swift
let overflowRatio = proposedWidth / maxWidth
let forceBreak = overflowRatio > 1.3 // è¶…å‡º30%å¼·åˆ¶æ›è¡Œ

if canStartNewLine || forceBreak {
    // åŸ·è¡Œæ›è¡Œï¼Œå³ä½¿æ˜¯æ¨™é»ç¬¦è™Ÿ
}
```

#### 3ï¸âƒ£ ç¬¬ä¸‰å±¤ï¼šé–“è·ä¿è­·
```swift
if isLastLine {
    spacing = wordSpacing
} else if extraSpace < 0 {
    // å…§å®¹è¶…å‡ºå®¹å™¨ï¼Œä½¿ç”¨æœ€å°é–“è·
    spacing = max(1, wordSpacing * 0.5)
} else {
    // æ­£å¸¸å·¦å³å°é½Š
    spacing = max(wordSpacing, extraSpace / CGFloat(spaceCount))
}
```

## æ•ˆæœå°æ¯”

### ä¿®å¾©å‰ âŒ
- æ¨™é»ç¬¦è™Ÿæ­£ç¢ºä¸åœ¨è¡Œé¦–
- **ä½†æ–‡å­—æœƒè¶…å‡ºè¢å¹•è¢«åˆ‡æ‰**
- å½±éŸ¿å¯è®€æ€§

### ä¿®å¾©å¾Œ âœ…
- æ¨™é»ç¬¦è™Ÿç›¡é‡ä¸åœ¨è¡Œé¦–
- **æ–‡å­—ä¸æœƒè¶…å‡ºè¢å¹•**
- å¹³è¡¡ç¾è§€èˆ‡åŠŸèƒ½æ€§

## æŠ€è¡“åƒæ•¸

| ä¿è­·å±¤ç´š | è§¸ç™¼æ¢ä»¶ | è™•ç†æ–¹å¼ | å„ªå…ˆç´š |
|---------|---------|---------|--------|
| æ¨™é»ç¬¦è™Ÿæª¢æŸ¥ | å­—ç¬¦å¯¬åº¦ â‰¤ 16px | é¿å…åœ¨è¡Œé¦– | ä½ |
| æº¢å‡ºæª¢æŸ¥ | è¶…å‡ºå®¹å™¨30% | å¼·åˆ¶æ›è¡Œ | ä¸­ |
| é–“è·ä¿è­· | å…§å®¹è¶…å‡ºå®¹å™¨ | æœ€å°é–“è· | é«˜ |

## é‚è¼¯æµç¨‹åœ–

```
éœ€è¦æ›è¡Œï¼Ÿ
   â†“
å­—ç¬¦å¯åœ¨è¡Œé¦–ï¼Ÿ
   â†“ å¦
æº¢å‡ºè¶…é30%ï¼Ÿ
   â†“ æ˜¯
å¼·åˆ¶æ›è¡Œï¼ˆä¿è­‰å¯è¦‹æ€§ï¼‰
   â†“
èª¿æ•´é–“è·ï¼ˆé˜²æ­¢é‡ç–Šï¼‰
```

## æ¸¬è©¦æ¡ˆä¾‹é©—è­‰

### âœ… é€šéæ¸¬è©¦
1. **æ¥µé•·å–®è©**ï¼š`supercalifragilisticexpialidocious` è¢«æ­£ç¢ºè™•ç†
2. **å¯†é›†æ¨™é»**ï¼š`çŸ­å¥ã€‚çŸ­å¥ï¼çŸ­å¥ï¼ŸçŸ­å¥ï¼Œ` ä¸æœƒéåº¦æº¢å‡º
3. **æ¢æ¬¾ç·¨è™Ÿ**ï¼š`1. è¶…é•·å…§å®¹...1.1 å­æ¢æ¬¾...` å¹³è¡¡è™•ç†
4. **ä¸­è‹±æ··åˆ**ï¼šæ­£å¸¸æ›è¡Œï¼Œä¿æŒå¯è®€æ€§

### ğŸ“Š æ€§èƒ½è¡¨ç¾
- **ç·¨è­¯æ™‚é–“**ï¼šç„¡æ˜é¡¯å¢åŠ 
- **é‹è¡Œæ•ˆèƒ½**ï¼šæµæš¢
- **è¨˜æ†¶é«”ä½¿ç”¨**ï¼šæ­£å¸¸
- **CPU ä½¿ç”¨**ï¼šè¼•é‡ç´š

## ä½¿ç”¨å»ºè­°

### æœ€é©åˆå ´æ™¯
- æ³•å¾‹æ–‡ä»¶é¡¯ç¤º
- ä½¿ç”¨æ¢æ¬¾é é¢
- é•·ç¯‡æ–‡å­—å…§å®¹
- ç§»å‹•è£ç½®é–±è®€

### æ³¨æ„äº‹é …
- æ¥µçª„å®¹å™¨ä»å¯èƒ½è¼•å¾®æº¢å‡º
- è‹±æ–‡é•·å–®è©å„ªå…ˆå¯è¦‹æ€§
- æ¨™é»ç¬¦è™Ÿè¦å‰‡ç‚ºæ¬¡è¦è€ƒé‡

## ç¸½çµ

æ­¤æ¬¡æ›´æ–°æˆåŠŸè§£æ±ºäº†æ–‡å­—æº¢å‡ºå•é¡Œï¼Œåœ¨ä¿æŒæ–‡å­—å°é½Šç¾è§€çš„åŒæ™‚ï¼Œç¢ºä¿äº†å…§å®¹çš„å®Œå…¨å¯è¦‹æ€§ã€‚é€éä¸‰å±¤ä¿è­·æ©Ÿåˆ¶ï¼Œé”åˆ°äº†ç¾è§€èˆ‡åŠŸèƒ½æ€§çš„æœ€ä½³å¹³è¡¡ã€‚

**æ ¸å¿ƒåŸå‰‡**ï¼šå¯è¦‹æ€§ > ç¾è§€æ€§ > è¦å‰‡æ€§

---
*æ›´æ–°æ—¥æœŸï¼š2025-06-24*  
*ç‰ˆæœ¬ï¼šJustifiedText v2.3* 